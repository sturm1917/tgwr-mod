focus_tree = {
    id = spain_focus

    country = {
        factor = 0

        modifier = {
            add = 10
            tag = SPR
        }
    }

    continuous_focus_position = { x = 1 y = 2500 }

    #start of tree
    focus = {
        id = SPR_naval_focus
        icon = GFX_focus_battlefleet
        x = 5
        y = 2
        cost = 10
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            navy_experience = 30
        }
    }
    focus = {
        id = SPR_dreadnought_navy
        icon = GFX_focus_bombard_sevastopol
        x = 0
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_naval_focus
        }
        ai_will_do = {
            factor = 1
        }
        mutually_exclusive = {
            focus = SPR_lightship_navy
        }
        completion_reward = {
            add_ideas = SPR_boost_dreadnought_production
        }
    }
    focus = {
        id = SPR_lightship_navy
        icon = GFX_focus_generic_cruiser2
        x = 3
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_naval_focus
        }
        ai_will_do = {
            factor = 1
        }
        mutually_exclusive = {
            focus = SPR_dreadnought_navy
        }
        completion_reward = {
            add_ideas = SPR_boost_lightship_production
        }
    }
    focus = {
        id = SPR_streamline_ship_production
        icon = GFX_focus_generic_navy_battleship2
        x = 7
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_naval_focus
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_ideas = SPR_streamline_ship_production
        }
    }
    focus = {
        id = SPR_expand_ferrol_docks
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 10
        y = 3
        cost = 10
        prerequisite = {
            focus = SPR_naval_focus
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_expand_malaga_base
        icon = GFX_goal_generic_construct_naval_dockyard
        x = 10
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_expand_ferrol_docks
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            173 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_dreadnought_equipment
        icon = GFX_focus_bombard_sevastopol
        x = 0
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_dreadnought_navy
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 2
                uses = 1
                category = bb_tech
            }
        }
    }
    focus = {
        id = SPR_lightship_equipment
        icon = GFX_focus_generic_cruiser2
        x = 3
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_lightship_navy
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = cl_tech
            }
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = dd_tech
            }
        }
    }
    focus = {
        id = SPR_sonar_development
        icon = GFX_focus_generic_navy_battleship2
        x = 7
        y = 4
        cost = 10
        prerequisite = {
            focus = SPR_streamline_ship_production
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = asw_tech
            }
        }
    }
    focus = {
        id = SPR_regenerate_navy
        icon = GFX_focus_battlefleet
        x = 5
        y = 6
        cost = 10
        prerequisite = {
            focus = SPR_dreadnought_equipment
            focus = SPR_lightship_equipment
        }
        prerequisite = {
            focus = SPR_sonar_development
        }
        prerequisite = {
            focus = SPR_expand_malaga_base
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            remove_ideas = SPR_american_naval_defeats
        }
    }
    focus = {
        id = SPR_found_the_airforce
        icon = GFX_goal_generic_build_airforce
        relative_position_id = SPR_naval_focus
        x = 9
        y = 0
        cost = 10
        available = {
            has_country_flag = spanish_airforce_founded
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            air_experience = 30
        }
    }
    focus = {
        id = SPR_develop_planes
        icon = GFX_goal_generic_air_fighter
        relative_position_id = SPR_found_the_airforce
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_found_the_airforce
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = light_fighter
            }
        }
    }
    focus = {
        id = SPR_build_some_airbases
        icon = GFX_goal_generic_air_fighter #placeholder until i can find proper icon
        relative_position_id = SPR_develop_planes
        x = 2
        y = 0
        cost = 10
        prerequisite = {
            focus = SPR_found_the_airforce
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            165 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
            169 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_build_a_plane_factory
        icon = GFX_focus_generic_aircraft_production
        relative_position_id = SPR_found_the_airforce
        x = 0
        y = 2
        cost = 10
        prerequisite = {
            focus = SPR_develop_planes
        }
        prerequisite = {
            focus = SPR_build_some_airbases
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            176 = {
                add_extra_state_shared_building_slots = 1
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_develop_cas
        icon = GFX_goal_generic_air_fighter #placeholder again
        relative_position_id = SPR_build_a_plane_factory
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_build_a_plane_factory
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = cas_bomber
            }
        }
    }
    focus = {
        id = SPR_develop_navbombers
        icon = GFX_goal_generic_air_fighter #placeholder
        relative_position_id = SPR_build_a_plane_factory
        x = 1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_build_a_plane_factory
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = naval_air
            }
        }
    }
    focus = {
        id = SPR_develop_bombers
        icon = GFX_goal_generic_air_fighter #placeholder
        relative_position_id = SPR_build_a_plane_factory
        x = 0
        y = 2
        cost = 10
        prerequisite = {
            focus = SPR_build_a_plane_factory
        }
        prerequisite = {
            focus = SPR_develop_cas
        }
        prerequisite = {
            focus = SPR_develop_navbombers
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = tactical_bomber
            }
        }
    }
    focus = {
        id = SPR_construct_foreign_airbases
        icon = GFX_goal_generic_air_fighter #placeholder once more
        relative_position_id = SPR_develop_bombers
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_develop_bombers
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            178 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
            699 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_focus_on_the_army
        icon = GFX_focus_chi_army_reform
        relative_position_id = SPR_found_the_airforce
        x = 6
        y = 0
        cost = 10
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            army_experience = 30
        }
    }
    focus = {
        id = SPR_modernise_rifles
        icon = GFX_goal_generic_military_sphere
        relative_position_id = SPR_focus_on_the_army
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_focus_on_the_army
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = infantry_weapons
            }
        }
    }
    focus = {
        id = SPR_modernise_artillery
        icon = GFX_goal_generic_army_artillery2
        relative_position_id = SPR_focus_on_the_army
        x = 1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_focus_on_the_army
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = artillery
            }
            add_tech_bonus = {
                bonus = 1
                uses = 1
				technology = howitzer3
				technology = howitzer2
            }
        }
    }
    focus = {
        id = SPR_develop_doctrines
        icon = GFX_goal_generic_air_doctrine
        relative_position_id = SPR_modernise_artillery
        x = 1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_modernise_artillery
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 2
                category = land_doctrine
            }
        }
    }
    focus = {
        id = SPR_improve_support_units
        icon = GFX_goal_generic_military_sphere
        relative_position_id = SPR_modernise_rifles
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_modernise_rifles
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = support_tech
			}
        }
    }
    focus = {
        id = SPR_construct_trucks
        icon = GFX_goal_generic_army_motorized
        relative_position_id = SPR_modernise_artillery
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_modernise_rifles
            focus = SPR_modernise_artillery
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 0.75
                uses = 1
                category = motorized_equipment
            }
        }
    }
    focus = {
        id = SPR_improve_officers
        icon = GFX_focus_generic_military_academy
        relative_position_id = SPR_develop_doctrines
        x = -1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_develop_doctrines
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.5
                uses = 1
                category = land_doctrine
            }
        }
    }
    focus = {
        id = SPR_develop_tanks
        icon = GFX_focus_early_tank
        relative_position_id = SPR_improve_support_units
        x = 1
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_construct_trucks
        }
        available = {
            has_tech = tank_design
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1.5
                uses = 1
                category = armor
            }
        }
    }
    focus = {
        id = SPR_fix_the_army
        icon = GFX_focus_chi_army_reform
        relative_position_id = SPR_develop_tanks
        x = 1
        y = 2
        cost = 10
        prerequisite = {
            focus = SPR_develop_tanks
        }
        prerequisite = {
            focus = SPR_improve_officers
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            remove_ideas = SPR_army_debuffs
        }
    }
    focus = {
        id = SPR_commence_industrialization
        icon = GFX_focus_seven_year_plan
        x = 5
        y = 9
        cost = 10
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = industry
            }
        }
    }
    focus = {
        id = SPR_improve_construction_methods
        icon = GFX_goal_generic_production2
        relative_position_id = SPR_commence_industrialization
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_commence_industrialization
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_ideas = SPR_improve_construction
        }
    }
    focus = {
        id = SPR_catalan_arms_plant
        icon = GFX_goal_generic_construct_mil_factory
        relative_position_id = SPR_improve_construction_methods
        x = 5
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_improve_construction_methods
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            165 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_andalusia_arms_plant
        icon = GFX_goal_generic_construct_mil_factory
        relative_position_id = SPR_catalan_arms_plant
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_catalan_arms_plant
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            170 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_madrid_arms_plant
        icon = GFX_goal_generic_construct_mil_factory
        relative_position_id = SPR_andalusia_arms_plant
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_andalusia_arms_plant
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            41 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_galicia_dockyard
        icon = GFX_goal_generic_construct_naval_dockyard
        relative_position_id = SPR_madrid_arms_plant
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_madrid_arms_plant
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            171 = {
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_improve_production_lines
        icon = GFX_focus_industry_steel
        relative_position_id = SPR_improve_construction_methods
        x = -2
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_improve_construction_methods
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 1
                category = industry
            }
        }
    }
    focus = {
        id = SPR_industrial_infrastructure
        icon = GFX_focus_train_railroads
        relative_position_id = SPR_improve_construction_methods
        x = 0
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_improve_construction_methods
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 875 1178 7183 1048 }
                start_province = 875
                target_province = 1048
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 3938 6914 9757 942 832 }
                start_province = 3938
                target_province = 832
            }
            build_railway = {
                level = 1
                build_only_on_allied = no
                controller_priority = {
                    base = 1

                    modifier = {
                        tag = SPR
                        add = 2
                    }
                }
                fallback = yes
                path = { 6914 9852 6879 3945 }
                start_province = 6914
                target_province = 3945
            }
            41 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            175 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            170 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            176 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
        }
    }
    focus = {
        id = SPR_fix_some_industrial_issues
        icon = GFX_focus_industry_steel
        relative_position_id = SPR_improve_construction_methods
        x = 2
        y = 1
        cost = 10
        prerequisite = {
            focus = SPR_improve_construction_methods
        }
        ai_will_do = {
            factor = 1
        }
        completion_reward = {
            swap_ideas = {
                remove_idea = SPR_industrial_debuffs
                add_idea = SPR_industrial_debuffs_two
            }
        }
    }
}