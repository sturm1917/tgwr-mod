add_namespace = ww1_political

#### TGWR - NEUTRALITY ####

# Neutrality on the Rise
country_event = {
	id = ww1_political.1
	title = ww1_political.1.t
	desc = ww1_political.1.d
	picture = GFX_report_event_fascist_gathering
	
	trigger = {
		NOT = { has_government = neutrality }
		neutrality > 0.7
		NOT = { neutrality > 0.8 }
		check_has_focus_tree_to_switch_to_neutrality = yes
		NOT = { has_country_flag = dont_trigger_political_event }
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 30
	}

	# We need a referendum
	option = {
		name = political.14.c
		add_political_power = -100
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}

	# Not right now
	option = {
		name = political.14.e
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = impending_civil_war_tt
	}
}

### > 50% support
# Authoritarianist
country_event = {
	id = ww1_political.2
	title = ww1_political.2.t
	desc = ww1_political.2.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = political.18.c
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

### Revolution
# Authoritarianist
country_event = {
	id = ww1_political.3
	title = ww1_political.3.t
	desc = ww1_political.3.d
	picture = GFX_report_event_fascist_militia

    trigger = {
		neutrality > 0.8
		num_of_controlled_states > 1
		#has_idea = authoritarian_revolutionaries
		NOT = { has_government = neutrality }
		has_civil_war = no
		check_has_focus_tree_to_switch_to_neutrality = yes
		NOT = { has_country_flag = dont_trigger_political_event }
	}

	mean_time_to_happen = {
		days = 2
	}

	immediate = {
		hidden_effect = { remove_ideas = authoritarian_revolutionaries }
	}

	option = {
		name = political.21.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = neutrality
			size = 0.5
		}
	}

	option = {
		name = ww1_political.3.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = neutrality
				ideology = democratic
				size = 0.5
				keep_unit_leaders_trigger = {
					OR = {
						has_trait = trait_royalist
						has_trait = trait_royal
					}
				}
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = neutrality
				ideology = communism
				size = 0.5
				keep_unit_leaders_trigger = {
					OR = {
						has_trait = trait_royalist
						has_trait = trait_royal
						has_trait = old_guard
						has_trait = politically_connected
						has_trait = old_guard_navy
					}
				}
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = neutrality
				ideology = neutrality
				size = 0.5
			}
		}
	}

	# We need a referendum
	option = {
		name = political.14.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}
	}
}